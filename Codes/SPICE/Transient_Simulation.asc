Version 4
SHEET 1 5848 2316
WIRE -320 -1232 -320 -1280
WIRE -144 -1232 -144 -1280
WIRE -672 -1216 -672 -1280
WIRE -496 -1216 -496 -1280
WIRE -672 -1152 -672 -1216
WIRE -496 -1152 -496 -1216
WIRE -320 -1152 -320 -1232
WIRE -144 -1152 -144 -1232
WIRE -672 -1040 -672 -1072
WIRE -496 -1040 -496 -1072
WIRE -320 -1040 -320 -1072
WIRE -144 -1040 -144 -1072
WIRE 256 -752 256 -784
WIRE -656 -736 -656 -784
WIRE -496 -736 -496 -784
WIRE -656 -656 -656 -736
WIRE -496 -656 -496 -736
WIRE 256 -656 256 -752
WIRE -288 -624 -336 -624
WIRE -208 -624 -288 -624
WIRE 48 -624 -48 -624
WIRE 96 -624 48 -624
WIRE -288 -576 -336 -576
WIRE -208 -576 -288 -576
WIRE -656 -512 -656 -576
WIRE -496 -512 -496 -576
WIRE 256 -512 256 -576
WIRE 384 -240 384 -272
WIRE 592 -240 592 -272
WIRE 672 -240 672 -272
WIRE 1616 -240 1616 -272
WIRE 384 -192 384 -240
WIRE 336 -176 304 -176
WIRE 592 -176 592 -240
WIRE 672 -176 672 -240
WIRE 1616 -176 1616 -240
WIRE -736 -80 -736 -112
WIRE -592 -80 -592 -112
WIRE -448 -80 -448 -112
WIRE 144 -64 32 -64
WIRE 304 -64 304 -176
WIRE 304 -64 144 -64
WIRE 384 -64 384 -96
WIRE 592 -64 592 -112
WIRE 592 -64 384 -64
WIRE 672 -64 672 -112
WIRE 672 -64 592 -64
WIRE 752 -64 672 -64
WIRE 880 -64 832 -64
WIRE 1008 -64 960 -64
WIRE 1248 -64 1008 -64
WIRE 1616 -64 1616 -112
WIRE 1616 -64 1344 -64
WIRE 1680 -64 1616 -64
WIRE 1696 -64 1680 -64
WIRE -736 -32 -736 -80
WIRE -592 -32 -592 -80
WIRE -448 -32 -448 -80
WIRE 384 -32 384 -64
WIRE 1248 -32 1216 -32
WIRE 1392 -32 1344 -32
WIRE 592 -16 592 -64
WIRE 672 -16 672 -64
WIRE 1008 -16 1008 -64
WIRE 1616 -16 1616 -64
WIRE 1696 0 1696 -64
WIRE 304 48 304 -64
WIRE 336 48 304 48
WIRE 592 96 592 48
WIRE 1008 96 1008 48
WIRE 1216 96 1216 -32
WIRE 1392 96 1392 -32
WIRE 1616 96 1616 48
WIRE -736 112 -736 48
WIRE -592 112 -592 48
WIRE -448 112 -448 48
WIRE 384 112 384 64
WIRE 672 112 672 48
WIRE 1696 112 1696 80
WIRE 592 128 592 96
WIRE 1616 128 1616 96
FLAG 1696 112 0
FLAG -448 112 0
FLAG -448 -80 vcc
FLAG 384 112 0
FLAG 1008 96 0
FLAG 672 112 0
FLAG -592 112 0
FLAG -592 -80 vmax
FLAG -736 112 0
FLAG -736 -80 vmin
FLAG 1216 96 0
FLAG 1392 96 0
FLAG 592 -240 vmax
FLAG 592 96 vmin
FLAG 384 -240 vcc
FLAG 672 -240 vcc
FLAG 1616 -240 vmax
FLAG 1616 96 vmin
FLAG 144 -64 rand_src
FLAG 1680 -64 out
FLAG -320 -1040 0
FLAG -144 -1040 0
FLAG -320 -1232 sin_jit
FLAG -144 -1232 clk_jit
FLAG -656 -512 0
FLAG -496 -512 0
FLAG -496 -736 rand_dig
FLAG -656 -736 rand_ana
FLAG -288 -576 clk_jit
FLAG -288 -624 rand_dig
FLAG 48 -624 rand_src_ori
FLAG 256 -512 0
FLAG 256 -752 rand_src
FLAG -672 -1040 0
FLAG -672 -1216 rand_jit
FLAG -496 -1040 0
FLAG -496 -1216 peri_jit
SYMBOL nmos 336 -32 R0
SYMATTR InstName M5
SYMBOL pmos 336 -96 M180
SYMATTR InstName M6
SYMBOL ind 976 -80 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 1p
SYMBOL cap 992 -16 R0
SYMATTR InstName C1
SYMATTR Value 20f
SYMBOL res 848 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 0.01
SYMBOL diode 608 -112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value DIODE
SYMBOL cap 656 -16 R0
SYMATTR InstName C26
SYMATTR Value 30f
SYMBOL cap 656 -176 R0
SYMATTR InstName C27
SYMATTR Value 30f
SYMBOL ltline 1296 -48 R0
WINDOW 3 0 12 Bottom 2
SYMATTR InstName O1
SYMBOL bv -448 -48 R0
SYMATTR InstName VCC
SYMATTR Value V=HIGH
SYMBOL bv -592 -48 R0
WINDOW 3 -59 197 Left 2
SYMATTR Value V=HIGH-OFFSET
SYMATTR InstName VMAX
SYMBOL bv -736 -48 R0
WINDOW 3 -50 200 Left 2
SYMATTR Value V=OFFSET
SYMATTR InstName VMIN
SYMBOL diode 608 48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value DIODE
SYMBOL res 1680 -16 R0
SYMATTR InstName R2
SYMATTR Value 400
SYMBOL diode 1632 -112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value DIODE
SYMBOL diode 1632 48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value DIODE
SYMBOL bv -320 -1168 R0
WINDOW 0 32 22 Left 2
WINDOW 3 -158 254 Left 2
SYMATTR InstName SIN_JIT
SYMATTR Value V=sin(2*pi*(time/T+V(rand_jit)+V(peri_jit)))
SYMBOL bv -144 -1168 R0
WINDOW 0 31 22 Left 2
WINDOW 3 -138 299 Left 2
SYMATTR InstName CLK_JIT
SYMATTR Value V=HIGH*ceil(V(sin_jit)/2)
SYMBOL bv -656 -672 R0
WINDOW 0 -73 117 Left 2
WINDOW 3 -98 209 Left 2
SYMATTR InstName RAND_ANA1
SYMATTR Value V=white(time/T*pi)
SYMBOL bv -496 -672 R0
WINDOW 0 -47 111 Left 2
WINDOW 3 -142 248 Left 2
SYMATTR InstName RAND_DIG1
SYMATTR Value V=HIGH*ceil(V(rand_ana))
SYMBOL Digital\\dflop -128 -672 R0
SYMATTR InstName A1
SYMBOL bv 256 -672 R0
WINDOW 0 -47 111 Left 2
WINDOW 3 -150 207 Left 2
SYMATTR InstName RAND_SRC
SYMATTR Value V=5*V(rand_src_ori)
SYMBOL bv -672 -1168 R0
WINDOW 3 -305 172 Left 2
SYMATTR Value V=5*SIGMA_RJ*white(-pi+time/T/1.01)
SYMATTR InstName RAND_JIT
SYMBOL bv -496 -1168 R0
WINDOW 0 27 21 Left 2
WINDOW 3 -148 213 Left 2
SYMATTR InstName PERI_JIT
SYMATTR Value V=AMP_PJ*sin(2*pi/T_PJ/T*time)
TEXT 1320 -656 Left 2 !.model LTRA LTRA(R={10m/SECT} L={100n/SECT} C={50p/SECT} LEN={SECT})
TEXT 1320 -600 Left 2 !.model NMOS VDMOS(            Rg=3 Rd=15m Rs=9m Vto= 1 Kp=100 Cgdmax=1n Cgdmin=.44n Cgs=2n Cjo=.1n Is=40p Rb=15m ksubthres=.1 mfg=Siliconix Vds= 20 Ron=30m Qg=15n)\n.model PMOS VDMOS(pchan Rg=3 Rd=15m Rs=9m Vto=-1 Kp=100 Cgdmax=1n Cgdmin=.44n Cgs=2n Cjo=.1n Is=40p Rb=15m ksubthres=.1 mfg=Siliconix Vds=-20 Ron=30m Qg=15n)\n.model DIODE D(Is=2.52n Rs=.568 N=1.752 Cjo=4p M=.4 tt=20n Iave=200m Vpk=75 mfg=OnSemi)
TEXT 560 -720 Left 2 !.tran 0 {100000*T}
TEXT 568 -648 Left 2 !.param T=20n
TEXT 568 -608 Left 2 !.param HIGH=5.0 OFFSET=0.0
TEXT 568 -568 Left 2 !.param SECT=100
TEXT 856 -712 Left 2 !*.save V(out)
TEXT 912 -752 Left 2 !.options baudrate={1/T}
TEXT 264 -1256 Left 2 !.param SIGMA_RJ=0.06 AMP_PJ=0.10 T_PJ={pi}
TEXT 264 -1200 Left 2 ;The variance of random jitters is ARJ (in units of T). \nThe amplitude of period jitters is APJ (in units of T). \nThe period of period jitters is TPJ (in units of T).\n \nOutput .txt by rand_jit, per_jit, and sin_jit
